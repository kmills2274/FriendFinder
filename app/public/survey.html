<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>"Dream Phone" | Friend Finder</title>

    <base href="/">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Chosen CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.css" integrity="sha512-0nkKORjFgcyxv3HbE4rzFUlENUMNqic/EzDIeYCgsKa/nwqr2B91Vu/tNAu4Q0cBuG4Xe/D1f/freEci/7GDRA==" crossorigin="anonymous" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

    <style>

        body{
            background-image: url("https://i.pinimg.com/564x/85/c4/1e/85c41ec6fceb294484eb2f42786295f1.jpg");
        }

        .card {
          max-width: 1200px;
            margin-top: 50px;
            margin-bottom: 50px;
            border-style: solid;
            border-width: 3px;
            border-color: mediumturquoise;
        }
        
        h1 {
          margin-top: 25px;
          color: mediumturquoise;
        }

        span.title {
            color: rgb(255, 237, 133);
            font-weight: bold;
            -webkit-text-stroke-width: 2px;
            -webkit-text-stroke-color: rgb(230, 97, 152);
        }

        i {
          color: rgb(230, 97, 152);
        }

        h3.instructions {
          color: black;
        }

        h3 {
          color:rgb(230, 97, 152)
        }

        .btn-lg{
          font-weight: bold;
          color: rgb(230, 97, 152);
          background-color: mediumturquoise;
          margin-bottom: 25px;
        }

    </style>

</head>

<body>
  <div class = "container">

    <div class='card card-align-center'>
        
        <div class="card-title">
          <h1 class="text-center"><i class="fa fa-phone" aria-hidden="true"></i><span class="title"> DREAM PHONE </span>Friend Finder <i class="fa fa-facebook-square" aria-hidden="true"></i></h1>
        </div>

        <hr>
        
          <h3 class="instructions text-center">To meet your match- just fill out this survey! We will display your match's name, picture & phone number so you can call your match and have a DREAM PHONE date!</h3>
          
          <hr>
        <div class="card-body"> 

          <h3 class="font-weight-bold">About You</h3>

          <h5>NAME (Required):</h5>
          <input type="text" id="name" class="form-control" required>

          <h5>LINK TO PHOTO OF YOU (Required):</h5>
          <input type="text" id="photo" class="form-control" required>

          <hr>

          <h3><strong># 1</strong></h3>
          <h4>You enjoy spending your weekends hanging out at the mall.</h4>
          <select class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>

          <h3><strong># 2</strong></h3>
          <h4>You are more of a dog person than a cat person.</h4>
          <select class="chosen-select" id="q2">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>
      
          <h3><strong># 3</strong></h3>
          <h4>Your dream vacation destination is the beach.</h4>
          <select class="chosen-select" id="q3">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>
          
          <h3><strong># 4</strong></h3>
          <h4>You regularly go to the gym and enjoy working out.</h4>
          <select class="chosen-select" id="q4">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>
      
          <h3><strong># 5</strong></h3>
          <h4>Your career is very important to you and you are goal-driven.</h4>
          <select class="chosen-select" id="q5">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
    
          <hr>

          <h3><strong># 6</strong></h3>
          <h4>You love spending time doing outdoor activities.</h4>
          <select class="chosen-select" id="q6">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>
      
          <h3><strong># 7</strong></h3>
          <h4>You love to eat and consider yourself to be a "foodie".</h4>
          <select class="chosen-select" id="q7">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>

          <h3><strong># 8</strong></h3>
          <h4>You enjoy traveling and getting to experience new things.</h4>
          <select class="chosen-select" id="q8">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>

          <h3><strong># 9</strong></h3>
          <h4>Reading is one of your favorite hobbies.</h4>
          <select class="chosen-select" id="q9">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>

          <h3><strong># 10</strong></h3>
          <h4>You like going to the movies and seeing new films often.</h4>
          <select class="chosen-select" id="q10">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
          </select>
      
          <hr>
          <br>

          <button type="submit" class="btn btn-lg submit" id="submit" data-target="modal-lg"><i class="fas fa-check-square"></i> Submit</button>

        </div> <!-- Card Body End -->
        
    </div> <!-- Card End -->

          <!-- Links to Friends API & Github Repo -->
          <div class="card float-right" style="width: 18rem;">
            <p class="card-text text-center"><a href="/api/friends">API Friends Link</a> | <a href="https://github.com/kmills2274/FriendFinder">GitHub Repo</a></p>
          </div>

       

    

        <!-- Modal -->
        <div id="results-modal" class="modal fade modal-lg" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title">Your match is: </h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" height= "730px" width= "470px" src="" alt="">
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn" data-dismiss="modal">Close</button>
                  </div>
              </div>
            </div>
        </div>

  </div>
    
  <!-- J Query -->
  <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
  <!-- Chosen JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.js" integrity="sha512-eSeh0V+8U3qoxFnK3KgBsM69hrMOGMBy3CNxq/T4BArsSQJfKVsKb5joMqIPrNMjRQSTl4xG8oJRpgU2o9I7HQ==" crossorigin="anonymous"></script>


  <script type="text/javascript">

    // Configuration for Chosen JS
    var config = {
      ".chosen-select": {},
      ".chosen-select-deselect": {
        allow_single_deselect: true
      },
      ".chosen-select-no-single": {
        disable_search_threshold: 10
      },
      ".chosen-select-no-results": {
        no_results_text: "Oops, nothing found!"
      }
    };

    for (var selector in config) {
      $(selector).chosen(config[selector]);
    }

    // On-click event to grab the form input data
    $("#submit").on("click", function(event) {
      event.preventDefault();

      // Function to validate form by making sure all the control fields have been filled out
      function validateForm() {
        var isValid = true;
        $(".form-control").each(function() {
          if ($(this).val() === "") {
            isValid = false;
          }
        });

        $(".chosen-select").each(function() {

          if ($(this).val() === "") {
            isValid = false;
          }
        });
        return isValid;
      }

      if (validateForm()) {

        // Object to hold the current user's input data
        var currentUser = {
          name: $("#name").val(),
          photo: $("#photo").val(),
          scores: [
            $("#q1").val(),
            $("#q2").val(),
            $("#q3").val(),
            $("#q4").val(),
            $("#q5").val(),
            $("#q6").val(),
            $("#q7").val(),
            $("#q8").val(),
            $("#q9").val(),
            $("#q10").val()
          ]
        };
        
        // Console log current user's input data
        console.log(currentUser) 

        // Post the data to the friends API
        $.post("/api/friends", currentUser, function(data) {

          // Grabs the user's match name and photo so they can be displayed in the modal
          $("#match-name").text(data.name);
          $("#match-img").attr("src", data.photo);

          console.log(data)

          // Post results on modal to show the user's match
          $("#results-modal").modal("toggle");

        });

        // Alert message if required fields aren't filled out
      } else {
        alert("Please fill out all fields before submitting!");
      }
    });
  </script>
      
</body>

</html>